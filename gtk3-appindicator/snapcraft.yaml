name: gtk3-appindicator
version: 0.1
summary: Test appindicator using libappindicator
description: appindicator using libapindicator

grade: stable
confinement: strict

apps:
  gtk3-appindicator:
    command: desktop-launch $SNAP/simple-client
    plugs: [unity7]

parts:
  simple-client:
    plugin: make
    make-parameters:
      - ICON_PATH=/snap/$SNAPCRAFT_PROJECT_NAME/current/icons
    source: .
    build-packages:
      - pkg-config
      - libappindicator3-dev
    artifacts: ['simple-client', 'icons']
    after: [desktop-gtk3]
